const userRoute = require('express').Router()
const UserController = require('../controllers/UserController')
const { authentication, isAdmin } = require('../middleware/authorization')
const { upload } = require('../helper/multer')
userRoute.get('/', authentication, isAdmin, UserController.getAllUsers)
userRoute.post('/', UserController.register)
userRoute.post('/login', UserController.login)
userRoute.patch('/update', authentication, upload.single('image'), UserController.update)
userRoute.delete('/', authentication, UserController.delete)
userRoute.get('/account', authentication, UserController.getUserById)
userRoute.post('/role/:id', authentication, isAdmin, UserController.updateRoleUser)
userRoute.patch('/changepassword', authentication, UserController.changePassword)
module.exports = userRoute